angular.module("angular-canvas-gauge",[]).directive("canvasGauge",function(){return{restrict:"A",link:function(a,b,c){var d={renderTo:c.id,value:0,width:200,height:200,title:!1,maxValue:100,minValue:0,majorTicks:[],minorTicks:10,strokeTicks:!0,units:!1,valueFormat:{int:3,dec:2},glow:!0,animation:{delay:10,duration:250,fn:"cycle"},colors:{plate:"#666",majorTicks:"rgba(192,192,192,0.3)",minorTicks:"rgba(192,192,192,0.3)",title:"#888",units:"#fff",numbers:"#fff",needle:{start:"rgba(240, 128, 128, 1)",end:"rgba(255, 160, 122, .9)",circle:{outerStart:"#f0f0f0",outerEnd:"#ccc",innerStart:"#e8e8e8",innerEnd:"#f5f5f5"},shadowUp:"rgba(2, 255, 255, 0.2)",shadowDown:"rgba(188, 143, 143, 0.45)"},valueBox:{rectStart:"#888",rectEnd:"#666",background:"#babab2",shadow:"rgba(0, 0, 0, 1)"},valueText:{foreground:"#444",shadow:"rgba(0, 0, 0, 0.3)"},circle:{shadow:"rgba(0, 0, 0, 0.5)",outerStart:"#ddd",outerEnd:"#aaa",middleStart:"#eee",middleEnd:"#f0f0f0",innerStart:"#fafafa",innerEnd:"#ccc"}},circles:{outerVisible:!0,middleVisible:!0,innerVisible:!0},valueBox:{visible:!0},valueText:{visible:!0},highlights:[{from:0,to:10,color:"#E0330A"},{from:10,to:20,color:"#D9400D"},{from:20,to:30,color:"#D14C0F"},{from:30,to:40,color:"#C95912"},{from:40,to:50,color:"#C26614"},{from:50,to:60,color:"#BA7317 "},{from:60,to:70,color:"#B2801A"},{from:70,to:80,color:"#AB8C1C"},{from:80,to:90,color:"#A3991F"},{from:90,to:100,color:"#9CA621"}]},e=new Gauge(d);e.draw();var f=function(a){var b=[];if(""===a)return b;var c=a.match(/(?:(?:-?\d*\.)?(-?\d+){1,2} ){2}(?:(?:#|0x)?(?:[0-9A-F|a-f]){3,8}|rgba?\(.*?\))/g);if(null===c)return b;for(var d=0,e=c.length;d<e;d++){var f=c[d].trim().split(/\s+/),g={};f[0]&&""!=f[0]&&(g.from=f[0]),f[1]&&""!=f[1]&&(g.to=f[1]),f[2]&&""!=f[2]&&(g.color=f[2]),b.push(g)}return b},g=function(a){return"true"===a},h=function(){return e.updateConfig({}).config};c.$observe("value",function(a){e.setValue(a)}),c.$observe("valueFormat",function(a){var b=a.split(".");e.updateConfig(h().valueFormat.int=b[0]||void 0),e.updateConfig(h().valueFormat.dec=b[1]||void 0)}),c.$observe("glow",function(a){e.updateConfig({glow:g(a)})}),c.$observe("title",function(a){e.updateConfig({title:a})}),c.$observe("units",function(a){e.updateConfig({units:a})}),c.$observe("width",function(a){e.updateConfig({width:a})}),c.$observe("height",function(a){e.updateConfig({height:a})}),c.$observe("minValue",function(a){e.updateConfig({minValue:a})}),c.$observe("maxValue",function(a){e.updateConfig({maxValue:parseFloat(a)})}),c.$observe("minorTicks",function(a){e.updateConfig({minorTicks:parseFloat(a)})}),c.$observe("majorTicks",function(a){e.updateConfig({majorTicks:a.split(" ")})}),c.$observe("highlights",function(a){e.updateConfig({highlights:f(a)})}),c.$observe("strokeTicks",function(a){e.updateConfig({strokeTicks:g(a)})}),c.$observe("animationFn",function(a){e.updateConfig(h().animation.fn=a)}),c.$observe("animationDelay",function(a){e.updateConfig(h().animation.delay=parseFloat(a))}),c.$observe("animationDuration",function(a){e.updateConfig(h().animation.duration=parseFloat(a))}),c.$observe("colorsPlate",function(a){e.updateConfig(h().colors.plate=a)}),c.$observe("colorsUnits",function(a){e.updateConfig(h().colors.units=a)}),c.$observe("colorsTitle",function(a){e.updateConfig(h().colors.title=a)}),c.$observe("colorsNumbers",function(a){e.updateConfig(h().colors.numbers=a)}),c.$observe("colorsNeedleStart",function(a){e.updateConfig(h().colors.needle.start=a)}),c.$observe("colorsNeedleEnd",function(a){e.updateConfig(h().colors.needle.end=a)}),c.$observe("colorsNeedleShadowup",function(a){e.updateConfig(h().colors.needle.shadowUp=a)}),c.$observe("colorsNeedleShadowdown",function(a){e.updateConfig(h().colors.needle.shadowDown=a)}),c.$observe("colorsNeedleCircleOuterstart",function(a){e.updateConfig(h().colors.needle.circle.outerStart=a)}),c.$observe("colorsNeedleCircleOuterend",function(a){e.updateConfig(h().colors.needle.circle.outerEnd=a)}),c.$observe("colorsNeedleCircleInnerstart",function(a){e.updateConfig(h().colors.needle.circle.innerStart=a)}),c.$observe("colorsNeedleCircleInnerend",function(a){e.updateConfig(h().colors.needle.circle.innerEnd=a)}),c.$observe("colorsValueboxRectstart",function(a){e.updateConfig(h().colors.valueBox.rectStart=a)}),c.$observe("colorsValueboxRectend",function(a){e.updateConfig(h().colors.valueBox.rectEnd=a)}),c.$observe("colorsValueboxBackground",function(a){e.updateConfig(h().colors.valueBox.background=a)}),c.$observe("colorsValueboxShadow",function(a){e.updateConfig(h().colors.valueBox.shadow=a)}),c.$observe("colorsValuetextForeground",function(a){e.updateConfig(h().colors.valueText.foreground=a)}),c.$observe("colorsValuetextShadow",function(a){e.updateConfig(h().colors.valueText.shadow=a)}),c.$observe("colorsCircleShadow",function(a){e.updateConfig(h().colors.circle.shadow=a)}),c.$observe("colorsCircleOuterstart",function(a){e.updateConfig(h().colors.circle.outerStart=a)}),c.$observe("colorsCircleOuterend",function(a){e.updateConfig(h().colors.circle.outerEnd=a)}),c.$observe("colorsCircleMiddlestart",function(a){e.updateConfig(h().colors.circle.middleStart=a)}),c.$observe("colorsCircleMiddleend",function(a){e.updateConfig(h().colors.circle.middleEnd=a)}),c.$observe("colorsCircleInnerstart",function(a){e.updateConfig(h().colors.circle.innerStart=a)}),c.$observe("colorsCircleInnerend",function(a){e.updateConfig(h().colors.circle.innerEnd=a)}),c.$observe("colorsMinorTicks",function(a){e.updateConfig(h().colors.minorTicks=a)}),c.$observe("colorsMajorTicks",function(a){e.updateConfig(h().colors.majorTicks=a)}),c.$observe("valueboxVisible",function(a){e.updateConfig(h().valueBox.visible=g(a))}),c.$observe("valuetextVisible",function(a){e.updateConfig(h().valueText.visible=g(a))}),c.$observe("circlesOutervisible",function(a){e.updateConfig(h().circles.outerVisible=g(a))}),c.$observe("circlesMiddlevisible",function(a){e.updateConfig(h().circles.middleVisible=g(a))}),c.$observe("circlesInnervisible",function(a){e.updateConfig(h().circles.innerVisible=g(a))})}}});